(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1785:(e,s,a)=>{"use strict";a.d(s,{default:()=>w});var t=a(9868),r=a(5776),n=a(4633),o=a(7035),i=a(6925),l=a(9590),c=a(9450),d=a(6500),h=a(6533);function m(e){let{flavorColor:s,toppings:a}=e,n=(0,r.useRef)(null),o=(0,r.useMemo)(()=>new h.Q1f(s),[s]);(0,c.C)(e=>{n.current&&(n.current.rotation.y=.2*e.clock.getElapsedTime(),n.current.position.y=.05*Math.sin(.5*e.clock.getElapsedTime()))});let i=(0,r.useMemo)(()=>{if(!a.includes("sprinkles"))return null;let e=[];for(let s=0;s<80;s++){let s=Math.random()*Math.PI*2,a=Math.random()*Math.PI*.4,t=.75+.1*Math.random(),r=t*Math.sin(a)*Math.cos(s),n=1+t*Math.cos(a),o=t*Math.sin(a)*Math.sin(s),i=Math.random()*Math.PI,l=Math.random()*Math.PI,c=Math.random()*Math.PI,d=["#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF"],h=Math.floor(Math.random()*d.length);e.push({position:[r,n,o],rotation:[i,l,c],color:d[h]})}return e.map((e,s)=>(0,t.jsxs)("mesh",{position:e.position,rotation:e.rotation,children:[(0,t.jsx)("boxGeometry",{args:[.08,.25,.08]}),(0,t.jsx)("meshStandardMaterial",{color:e.color,emissive:e.color,emissiveIntensity:.4})]},"sprinkle-".concat(s)))},[a]),l=(0,r.useMemo)(()=>{if(!a.includes("chocolate_chips"))return null;let e=[];for(let s=0;s<40;s++){let s=Math.random()*Math.PI*2,a=Math.random()*Math.PI*.5,t=.75+.1*Math.random(),r=t*Math.sin(a)*Math.cos(s),n=1+t*Math.cos(a),o=t*Math.sin(a)*Math.sin(s);e.push([r,n,o])}return e.map((e,s)=>(0,t.jsx)(d.iy,{position:e,args:[.1,8,8],children:(0,t.jsx)("meshStandardMaterial",{color:"#3A2718",roughness:.7})},"chip-".concat(s)))},[a]),m=(0,r.useMemo)(()=>{if(!a.includes("caramel"))return null;let e=[];for(let s=0;s<12;s++){let a=s/12*Math.PI*2,t=.2+s%3*.15,r=Math.cos(a)*t,n=Math.sin(a)*t;e.push({start:[r,1.4,n],end:[1.5*r,.8,1.5*n],thickness:.1+.05*Math.random()})}return e.map((e,s)=>{let a=new h.Pq0(e.end[0]-e.start[0],e.end[1]-e.start[1],e.end[2]-e.start[2]),r=a.length();a.normalize();let n=[(e.start[0]+e.end[0])/2,(e.start[1]+e.end[1])/2,(e.start[2]+e.end[2])/2],o=new h.PTz;o.setFromUnitVectors(new h.Pq0(0,1,0),a);let i=new h.O9p().setFromQuaternion(o);return(0,t.jsxs)("mesh",{position:n,rotation:[i.x,i.y,i.z],children:[(0,t.jsx)("cylinderGeometry",{args:[e.thickness,.7*e.thickness,r,8]}),(0,t.jsx)("meshStandardMaterial",{color:"#C4A484",roughness:.2,metalness:.3,emissive:"#C4A484",emissiveIntensity:.2})]},"drizzle-".concat(s))})},[a]),u=(0,r.useMemo)(()=>a.includes("cherry")?(0,t.jsxs)("group",{position:[0,1.5,0],children:[(0,t.jsxs)("mesh",{children:[(0,t.jsx)("sphereGeometry",{args:[.22,24,24,0,2*Math.PI,0,.8*Math.PI]}),(0,t.jsx)("meshStandardMaterial",{color:"#990000",roughness:.1,metalness:.5,emissive:"#990000",emissiveIntensity:.2})]}),(0,t.jsxs)("mesh",{position:[0,.15,0],children:[(0,t.jsx)("sphereGeometry",{args:[.08,16,16,0,2*Math.PI,0,.5*Math.PI]}),(0,t.jsx)("meshStandardMaterial",{color:"#880000",roughness:.2})]}),(0,t.jsxs)("group",{position:[0,.15,0],children:[(0,t.jsxs)("mesh",{position:[0,.1,0],rotation:[0,0,0],children:[(0,t.jsx)("cylinderGeometry",{args:[.03,.02,.2,8]}),(0,t.jsx)("meshStandardMaterial",{color:"#5D4037",roughness:.8})]}),(0,t.jsxs)("mesh",{position:[.1,.25,0],rotation:[0,0,.5*Math.PI],children:[(0,t.jsx)("cylinderGeometry",{args:[.02,.02,.2,8]}),(0,t.jsx)("meshStandardMaterial",{color:"#5D4037",roughness:.8})]})]})]}):null,[a]),p=(0,r.useMemo)(()=>{if(!a.includes("nuts"))return null;let e=[];for(let s=0;s<25;s++){let s=Math.random()*Math.PI*2,a=.7*Math.random(),t=Math.cos(s)*a,r=Math.sin(s)*a,n=1.1+.15*Math.random(),o=Math.random()*Math.PI,i=Math.random()*Math.PI,l=Math.random()*Math.PI,c=.08+.07*Math.random();e.push({position:[t,n,r],rotation:[o,i,l],scale:[c,.7*c,.5*c]})}return e.map((e,s)=>(0,t.jsxs)("mesh",{position:e.position,rotation:e.rotation,scale:e.scale,children:[(0,t.jsx)("boxGeometry",{args:[1,1,1]}),(0,t.jsx)("meshStandardMaterial",{color:"#D2B48C",roughness:.8})]},"nut-".concat(s)))},[a]);return(0,t.jsxs)("group",{ref:n,position:[0,-1,0],children:[(0,t.jsx)(d.Sd,{args:[.75,2,32],position:[0,-.5,0],rotation:[Math.PI,0,0],children:(0,t.jsx)("meshStandardMaterial",{color:"#D2B48C",roughness:.7})}),(0,t.jsx)(d.iy,{args:[.8,32,32],position:[0,1,0],children:(0,t.jsx)("meshStandardMaterial",{color:o,roughness:.4,metalness:.1})}),i,l,m,u,p]})}var u=a(9385),p=a(1020),x=a(4778),f=a(8627);function j(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,f.QP)((0,x.$)(s))}let M=(0,p.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),g=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(u.b,{ref:s,className:j(M(),a),...r})});g.displayName=u.b.displayName;var y=a(7993),v=a(2326);let b=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(y.bL,{className:j("grid gap-2",a),...r,ref:s})});b.displayName=y.bL.displayName;let N=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(y.q7,{ref:s,className:j("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...r,children:(0,t.jsx)(y.C1,{className:"flex items-center justify-center",children:(0,t.jsx)(v.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});N.displayName=y.q7.displayName;var F=a(1415),C=a(258);let P=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(F.bL,{ref:s,className:j("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...r,children:(0,t.jsx)(F.C1,{className:j("flex items-center justify-center text-current"),children:(0,t.jsx)(C.A,{className:"h-4 w-4"})})})});P.displayName=F.bL.displayName;let k=[{id:"vanilla",name:"Vanilla",color:"#F5F5DC"},{id:"chocolate",name:"Chocolate",color:"#7B3F00"},{id:"strawberry",name:"Strawberry",color:"#FF9999"},{id:"mint",name:"Mint Chocolate Chip",color:"#98FB98"},{id:"coffee",name:"Coffee",color:"#6F4E37"}],I=[{id:"sprinkles",name:"Sprinkles"},{id:"chocolate_chips",name:"Chocolate Chips"},{id:"cherry",name:"Cherry on Top"}];function w(){let[e,s]=(0,r.useState)(k[0].id),[a,c]=(0,r.useState)([]),[d,h]=(0,r.useState)("flavors"),u=(e,s)=>{s?c([...a,e]):c(a.filter(s=>s!==e))},p=k.find(s=>s.id===e)||k[0];return(0,t.jsx)("div",{className:"custom-ice-cream-container",children:(0,t.jsxs)("div",{className:"ice-cream-builder",children:[(0,t.jsx)("div",{className:"model-container",children:(0,t.jsx)(n.Hl,{camera:{position:[0,2,5],fov:45},children:(0,t.jsxs)(r.Suspense,{fallback:null,children:[(0,t.jsx)("ambientLight",{intensity:.7}),(0,t.jsx)("spotLight",{position:[10,10,10],angle:.15,penumbra:1,intensity:1.5,castShadow:!0}),(0,t.jsx)("pointLight",{position:[-10,0,-10],intensity:.5}),(0,t.jsx)(m,{flavorColor:p.color,toppings:a}),(0,t.jsx)(o._,{position:[0,-1.5,0],opacity:.4,scale:10,blur:2,far:4}),(0,t.jsx)(i.OH,{preset:"sunset"}),(0,t.jsx)(l.N,{enablePan:!1,minPolarAngle:Math.PI/6,maxPolarAngle:Math.PI/2,minDistance:3,maxDistance:8})]})})}),(0,t.jsxs)("div",{className:"customization-panel",children:[(0,t.jsx)("h2",{children:"Customize Your Ice Cream"}),(0,t.jsxs)("div",{className:"tabs",children:[(0,t.jsx)("button",{className:"flavors"===d?"active":"",onClick:()=>h("flavors"),style:{color:"flavors"===d?"var(--teal)":"var(--eggplant)"},children:"Flavors"}),(0,t.jsx)("button",{className:"toppings"===d?"active":"",onClick:()=>h("toppings"),style:{color:"toppings"===d?"var(--teal)":"var(--eggplant)"},children:"Toppings"})]}),(0,t.jsxs)("div",{className:"customization-section",style:{display:"flavors"===d?"block":"none"},children:[(0,t.jsx)("h3",{children:"Choose your flavor"}),(0,t.jsx)(b,{value:e,onValueChange:s,children:(0,t.jsx)("div",{className:"space-y-3",children:k.map(e=>(0,t.jsxs)("div",{className:"flavor-option",children:[(0,t.jsx)(N,{value:e.id,id:"flavor-".concat(e.id)}),(0,t.jsxs)(g,{htmlFor:"flavor-".concat(e.id),className:"flavor-label",children:[(0,t.jsx)("div",{className:"color-preview",style:{backgroundColor:e.color}}),e.name]})]},e.id))})})]}),(0,t.jsxs)("div",{className:"customization-section",style:{display:"toppings"===d?"block":"none"},children:[(0,t.jsx)("h3",{children:"Add toppings"}),(0,t.jsx)("div",{className:"toppings-grid",children:I.map(e=>(0,t.jsxs)("label",{className:"topping-option",children:[(0,t.jsx)(P,{id:"topping-".concat(e.id),checked:a.includes(e.id),onCheckedChange:s=>u(e.id,s)}),(0,t.jsx)("span",{children:e.name})]},e.id))})]}),(0,t.jsx)("button",{onClick:"addToCart('custom')",className:"cta-button",children:"Add to cart - $10.99"})]})]})})}},4995:(e,s,a)=>{Promise.resolve().then(a.bind(a,1785))}},e=>{var s=s=>e(e.s=s);e.O(0,[863,882,269,756,892,323,358],()=>s(4995)),_N_E=e.O()}]);